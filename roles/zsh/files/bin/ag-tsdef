#!/usr/bin/env bb
;; -*- mode: clojure; -*-
(require '[babashka.process :refer [process]])


(let [word (first *command-line-args*)]
  (-> ["ag"
       "-G" "(?<!\\.test)\\.ts(x?)$"
       "--color"
       (format "((class|const|function|interface|let|type|var) %s(?=\\W))|(^ *%s:)"
               word
               word)]
      (process {:in :inherit})
      :out
      slurp
      println))
